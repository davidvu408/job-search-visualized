<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://davidvu408.github.io/misc-assets/job-search/sankey.js"></script>
    <script src="visualizations.js"></script>
    <link rel="stylesheet" href="https://github.hubspot.com/odometer/themes/odometer-theme-minimal.css" />
    <script src="https://github.hubspot.com/odometer/odometer.js"></script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- Extra styles -->
    <style type="text/css">
    body {
        max-width: 1920px;
        margin: 0 auto;
    }

    .grid-container {
        display: grid;
        grid-template-columns: 33% 33% 33%;
    }
    /* Bubble Map */

    .tooltip {
        position: absolute;
        text-align: center;
        padding: 2px;
        font: 12px sans-serif;
        background: white;
        border: 0px;
        border-radius: 8px;
        pointer-events: none;
    }
    /* Sankey Diagram */

    .link {
        fill: none;
        stroke: #000;
        stroke-opacity: .2;
    }

    .link:hover {
        stroke-opacity: .5;
    }

    .node rect {
        cursor: move;
        fill-opacity: .9;
        shape-rendering: crispEdges;
    }

    .node text {
        pointer-events: none;
        text-shadow: 0 1px 0 #fff;
    }
    </style>
</head>

<body>
    <!-- Job Application Odemeters -->
    <div class="grid-container container text-center mb-4">
        <h2>Total Applications Sent</h2>
        <h2>Number of Days Job Searching</h2>
        <h2>Average Applications / Day</h2>
        <div id="totalApplicationsOdemeter" class="odometer display-2">0</div>
        <div id="daysJobSearchingOdemeter" class="odometer display-2">0</div>
        <div id="averageApplicationsOdemeter" class="odometer display-2">0</div>
    </div>
    </div>
    <!-- Visualisations -->
    <div class="container-fluid">
        <div class="row mb-4">
            <div class="col-sm-6 text-center">
                <h2>Applications Across The<br>United States</h2>
                <div id="application-bubble-map"></div>
            </div>
            <div class="col-sm-6 text-center">
                <h2>Job Boards Used</h2>
                <div id="job-board-pie-chart-container" class="d-flex flex-row">
                    <svg id="job-board-pie-chart"></svg>
                    <svg id="job-board-legend"></svg>
                </div>
            </div>
        </div>
        <div class="row mb-4" id="applications-sankey-diagram-container">
            <div class="col-sm-12 text-center">
                <h2 class="mb-4">Applications Sankey Diagram</h2>
                <div id="applications-sankey-diagram"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    // On page load..
    $(function() {
        // Create data visualizations
        createApplicationOdometers();
        createApplicationFrequencyMap();
        createJobBoardPieChart();
        createApplicationsSankeyDiagram();
        setEventListeners();
    });
    </script>
</body>

</html>